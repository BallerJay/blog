---
title: "æ€»ç»“ ES2015 çš„æ‰€æœ‰æ–°ç‰¹æ€§"
date: 2022-05-19T19:05:49+08:00
#description: <descriptive text here>

# weight: 1

# aliases: ["/first"]

tags: ["JavaScript"]
categories: ["JavaScript"]
showToc: true
TocOpen: false
draft: false
hidemeta: false
comments: true
disableShare: false
disableHLJS: false
hideSummary: false
searchHidden: false
ShowReadingTime: true
ShowBreadCrumbs: true
ShowPostNavLinks: true
cover:
image: "<image path/url>" # image path/url
alt: "<alt text>" # alt text
caption: "<text>" # display caption under cover
relative: false # when using page bundles set this to true
hidden: true # only hide on current single page
---
# æ€»ç»“ ES2015 çš„æ‰€æœ‰æ–°ç‰¹æ€§

## ğŸ’¥ ES2015(ES6)æ˜¯æ”¹åŠ¨æœ€å¤§çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¤§ä½“å¦‚ä¸‹:

![image-20220613232421871](https://cdn.jsdelivr.net/gh/BallerJay/oss_images@master/blog/2022/06/2022-06-13/image-20220613232421871.png)

### ğŸ letã€constå…³é”®å­—å’Œå—çº§ä½œç”¨åŸŸ

åœ¨ES6æ¥ä¸´ä¹‹å‰ï¼Œæˆ‘ä»¬ä¹ æƒ¯äº`var` å…³é”®å­—å£°æ˜å˜é‡ï¼Œ`var`å£°æ˜çš„å˜é‡æ˜¯å±äºå…¨å±€å˜é‡ï¼Œæœ€ç»ˆä¼šæŒ‚è½½åˆ°windowå¯¹è±¡ï¼Œè¿™ä¸€æ“ä½œå¯èƒ½ä¼šå¼•èµ·ä¸€äº›æ„å¤–çš„é”™è¯¯ã€‚æ‰€ä»¥åœ¨ES6ä¸­åŠ å…¥äº†`const`å’Œ`let	`å…³é”®å­—æ¥å£°æ˜å˜é‡ã€‚

```javascript
let v = 100
v = 200
const a = 1
a = 2; // Uncaught TypeError: Assignment to constant variable. 
// æŠ¥é”™ï¼Œconstå…³é”®å­—å£°æ˜çš„æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œæ˜¯ä¸å¯ä»¥æ”¹å˜çš„ï¼ˆé’ˆå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼‰
```

```javascript
{
  var a = 100
}
{
  let b = 100
}
console.log(a) // output: 100
console.log(b) // æŠ¥é”™ï¼Œb is not defined.  
// letå£°æ˜çš„å˜é‡åªèƒ½åœ¨å½“å‰çš„`å—çº§ä½œç”¨åŸŸ({} ä¹‹é—´çš„åŒºåŸŸ)`ä¸­ä½¿ç”¨
```

âš ï¸ letã€constå£°æ˜çš„å˜é‡å­˜åœ¨ä¸€ä¸ªæš‚æ—¶æ€§æ­»åŒºçš„é—®é¢˜

```javascript
a = 1;
let a = 0;// Uncaught ReferenceError: Cannot access 'a' before initialization
// æš‚æ—¶æ€§æ­»åŒºæ˜¯æŒ‡ä½¿ç”¨letã€constå…³é”®å­—å£°æ˜çš„å˜é‡åœ¨å®šä¹‰ä¹‹å‰æ˜¯ä¸å¯ä»¥ä½¿ç”¨çš„ï¼Œå£°æ˜ä¹‹åæ‰å¯ä»¥ä½¿ç”¨ã€‚
```

### ğŸ å‡½æ•°çš„æ‰©å±•ï¼ˆå‡½æ•°å½¢å‚çš„é»˜è®¤å€¼ã€ç®­å¤´å‡½æ•°ï¼‰

- å‡½æ•°é»˜è®¤å€¼

  ```javascript
  // es2015ä¹‹å‰
  function foo(v) {
    v = v ? v : 100
    return v
  }
  
  // es2015
  function bar(v = 100) {
    return v
  }
  ```

- ç®­å¤´å‡½æ•°

  ```javascript
  function foo(v) {
    return v``
  }
  // ç®­å¤´å‡½æ•°å†™æ³•
  const foo = (v) => {
    return v
  }
  // ç®€å†™å½¢å¼ 1
  const foo = v => { // åªæœ‰ä¸€ä¸ªå‚æ•°å¯ä»¥çœç•¥æ‹¬å·
    return v
  }
  // ç®€å†™å½¢å¼ 2
  const foo = v => v // è¯­å¥ä¸­åªæœ‰returnæ—¶å¯ä»¥çœç•¥returnå’ŒèŠ±æ‹¬å·
  ```

  â›…ï¸ è¡¥å……

  **ç®­å¤´å‡½æ•°ä¸æ™®é€šå‡½æ•°çš„åŒºåˆ«**

  1. ç®­å¤´å‡½æ•°ä¸­çš„thisæŒ‡å‘çš„æ˜¯ä¸Šä¸€çº§ä¸Šä¸‹æ–‡ä¸­çš„this
  2. callã€applyã€bindæ–¹æ³•éƒ½æ— æ³•æ”¹å˜ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘
  3. ç®­å¤´å‡½æ•°æ²¡æœ‰prototypeå±æ€§
  4. ç®­å¤´å‡½æ•°ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ä½¿ç”¨
  5. ä¹Ÿä¸èƒ½ä½¿ç”¨newæ–¹æ³•
  6. æ²¡æœ‰argumentså®å‚åˆ—è¡¨

  ğŸŒŠ **åœ¨ES2015ä¸­ä¸ºå‡½æ•°å¢åŠ çš„è¦ç»™nameå±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘å‡½æ•°çš„åç§°ã€‚**

  ```javascript
  function foo(v) {
    return v
  }
  const bar = v => v
  console.log(foo.name) // foo
  console.log(bar.name) // bar
  ```

### ğŸ‹ å­—ç¬¦ä¸²çš„æ‰©å±•

â€‹		ES2015ä¸­å¼•å…¥äº†æ¨¡æ¿å­—ç¬¦ä¸²çš„æ¦‚å¿µï¼Œä½¿ç”¨åå¼•å·**( ` )**å®šä¹‰ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²ä¼šä¿ç•™æ ¼å¼ï¼Œä¸”å¯ä»¥ä½¿ç”¨å˜é‡ã€‚		

```javascript
// ä½¿ç”¨ ` å®šä¹‰æ¨¡æ¿å­—ç¬¦ä¸²
let str = `ä¸€ç¢—å‘¨`

// æ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥ä¿ç•™æ ¼å¼
let str2 = `ä¸€
ç¢—
å‘¨`

// æ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨å˜é‡
const myName = 'ä¸€ç¢—å‘¨'
let str3 = `author: ${myName}` // ä½¿ç”¨ ${} è¿›è¡ŒåŒ…è£¹
```

â€‹		ES2015è¿˜ä¸ºStringå’ŒStringçš„ç¤ºä¾‹æ‰©å±•äº†ä¸€äº›æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š

| æ–¹æ³•å                         | æè¿°                                                         |
| ------------------------------ | ------------------------------------------------------------ |
| String.fromCodePoint()         | ç”¨äºä» Unicode ç ç‚¹è¿”å›å¯¹åº”å­—ç¬¦                              |
| String.raw()                   | è¿”å›ä¸€ä¸ªæ–œæ éƒ½è¢«è½¬ä¹‰ï¼ˆå³æ–œæ å‰é¢å†åŠ ä¸€ä¸ªæ–œæ ï¼‰çš„å­—ç¬¦ä¸²ï¼Œå¾€å¾€ç”¨äºæ¨¡æ¿å­—ç¬¦ä¸²çš„å¤„ç†æ–¹æ³•ã€‚ |
| String.prototype.codePointAt() | è¿”å›å­—ç¬¦å¯¹åº”ç ç‚¹(`String.fromCodePoint()`çš„é€†æ“ä½œ)           |
| String.prototype.normalize()   | æŠŠå­—ç¬¦çš„ä¸åŒè¡¨ç¤ºæ–¹æ³•ç»Ÿä¸€ä¸ºåŒæ ·å½¢å¼ï¼Œè¿”å›`æ–°å­—ç¬¦ä¸²`(Unicodeæ­£è§„åŒ–) |
| String.prototype.repeat()      | æŠŠå­—ç¬¦ä¸²é‡å¤næ¬¡ï¼Œè¿”å›å¤„ç†åçš„å­—ç¬¦ä¸²                          |
| String.prototype.includes()    | åˆ¤æ–­æ˜¯å¦å­˜åœ¨æŒ‡å®šå­—ç¬¦ä¸²                                       |
| String.prototype.startsWith()  | åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨åŸå§‹å­—ç¬¦ä¸²çš„å¤´éƒ¨                           |
| String.prototype.endsWith()    | åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨åŸå§‹å­—ç¬¦ä¸²çš„å°¾éƒ¨                           |

### ğŸ‰ æ•°ç»„çš„æ‰©å±•

ES2015ä¸­æä¾›äº†æ‰©å±•è¿ç®—ç¬¦ï¼Œå³**( ... )** ï¼Œåœ¨æ•°ç»„ä¸­ä½¿ç”¨å¯ä»¥å°†æ•°ç»„å±•å¼€ï¼Œå¹¶ä»¥é€—å·åˆ†éš”ã€‚

```javascript
const arr = [1, 2, 3, 4, 5, 6]
const newArr = [...arr] // å¤åˆ¶æ•°ç»„

console.log(Math.max.call(null, ...arr)) // å°†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ä½œä¸ºå‚æ•°ä½¿ç”¨
```

 é™¤æ­¤ä¹‹å¤–ï¼ŒArrayä»¥åŠæ•°ç»„æä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•ï¼Œå…·ä½“å¦‚ä¸‹ï¼š

- Array.from(): å°†ç±»æ•°ç»„å¯¹è±¡æˆ–è€…å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

  ```javascript
  function foo() {
    return Array.from(arguments) // å°† arguments è½¬æ¢ä¸ºæ•°ç»„
  }
  
  console.log(foo(1, 2, 3, 4, 5, 6)) // [ 1, 2, 3, 4, 5, 6 ]
  ```

- Array.of()ï¼šåˆ›å»ºä¸€ä¸ªå…·æœ‰å¯å˜æ•°é‡å‚æ•°çš„æ–°æ•°ç»„å®ä¾‹ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

  ```javascript
  Array.of(1) // [1]
  Array.of(true, 1, 'ä¸€ç¢—å‘¨') // [true, 1, 'ä¸€ç¢—å‘¨']
  ```

- Array.prototype.copyWithin(): æµ…å¤åˆ¶æ•°ç»„çš„ä¸€éƒ¨åˆ†åˆ°ç»Ÿä¸€æ•°ç»„ä¸­çš„å¦ä¸€ä¸ªä½ç½®ï¼Œå¹¶è¿”å›å®ƒï¼Œä¸ä¼šæ”¹å˜åŸæ•°ç»„çš„é•¿åº¦ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

  ```javascript
  const arr = [1, 2, 3, 4]
  
  // ä»ç´¢å¼• 2 å¼€å§‹ï¼Œåˆ°ç»“æŸ å°†å†…å®¹å¤åˆ¶åˆ°ç´¢å¼• 0 çš„ä½ç½®
  arr.copyWithin(0, 2) // [ 3, 4, 3, 4 ]
  ```

- Array.prototype.find(): æ ¹æ®ç»™å®šçš„å›è°ƒå‡½æ•°ï¼Œæ‰¾åˆ°åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ‰¾ä¸åˆ°è¿”å›**undefined** ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

  ```javascript
  const arr = [1, 2, 3, 4]
  
  arr.find(item => item === 2) // 2ï¼ˆè¡¨ç¤ºå…ƒç´ ï¼‰ã€
  ```

- Array.prototype.findIndex(): æ ¹æ®ç»™å®šçš„å›è°ƒå‡½æ•°ï¼Œæ‰¾åˆ°åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œæ‰¾ä¸åˆ°è¿”å›-1ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

  ```javascript
  const arr = [1, 2, 3, 4]
  
  arr.findIndex(item => item === 2) // 1 (è¡¨ç¤ºç´¢å¼•)
  ```

- Array.prototype.fill(): å°†ç»™å®šå€¼å¡«å……æ•°ç»„ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

  ```javascript
  const arr = [1, 2, 3, 4]
  // å°†ç»™å®šå€¼å¡«å……ç´¢å¼•1-3
  arr.fill('ä¸€ç¢—å‘¨', 1, 3) // [ 1, 'ä¸€ç¢—å‘¨', 'ä¸€ç¢—å‘¨', 4 ]
  ```

- Array.prototype.values()ï¼Œè¿”å›ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼Œå…¶å†…å®¹ä¸ºæ•°ç»„çš„valueï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

  ```javascript
  const arr = [1, true, 'ä¸€ç¢—å‘¨']
  const values = arr.values()
  for (const i of values) {
    console.log(i) // éå†ç»“æœ 1 true ä¸€ç¢—å‘¨
  }
  ```

- Array.prototype.entries()ï¼šè¿”å›ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼Œå…¶å†…å®¹æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç´¢å¼•0ä¸ºåŸæ•°ç»„çš„å…ƒç´ ï¼Œ1ä¸ºåŸæ•°ç»„è¯¥ä½ç½®çš„å€¼ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

  ```javascript
  const arr = [1, true, 'ä¸€ç¢—å‘¨']
  
  const iterator = arr.entries()
  console.log(Array.from(iterator)) // [ [ 0, 1 ], [ 1, true ], [ 2, 'ä¸€ç¢—å‘¨' ] ]
  ```

### ğŸ¥¥ å¯¹è±¡çš„æ‰©å±•

ES2015ä¸­å…è®¸å¯¹è±¡çš„**å±æ€§åå’Œå±æ€§å€¼ä¸€è‡´æ—¶** åªå†™å±æ€§åï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
const myName = 'ä¸€ç¢—å‘¨'
const age = 18
const person = { myName, age }
console.log(person) // { myName: 'ä¸€ç¢—å‘¨', age: 18 }
```

è¿˜æœ‰å…è®¸åœ¨å®šä¹‰å¯¹è±¡æ—¶ï¼Œå…è®¸ä½¿ç”¨**[ ]**åŒ…è£¹è¡¨è¾¾å¼ä½œä¸ºå±æ€§åï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javscript
const myName = 'ä¸€ç¢—å‘¨'
const age = 18
const person = {
  myName,
  ['a' + 'g' + 'e']: age,
}
console.log(person) // { myName: 'ä¸€ç¢—å‘¨', age: 18 }
```

- Object.is()ï¼šç”¨äºæ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œç”¨äºè§£å†³**NaN != NaN, +0 === -0**çš„é—®é¢˜ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

  ```javascript	
  console.log(NaN === NaN) // false
  console.log(+0 === -0) // true
  
  console.log(Object.is(NaN, NaN)) // true
  console.log(Object.is(+0, -0)) // false
  ```

- Object.assign()ï¼šå°†æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼Œå¹¶è¿”å›ç›®æ ‡å¯¹è±¡ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

  ```javascript
  const person = Object.assign({}, { name: 'ä¸€ç¢—å‘¨' }, { age: 18 })
  console.log(person) // { name: 'ä¸€ç¢—å‘¨', age: 18 }
  ```

- Object.getPrototypeOf()ï¼šè·å–åŸå‹å¯¹è±¡ã€‚

- Object.setPrototypeOf()ï¼šè®¾ç½®åŸå‹å¯¹è±¡ã€‚